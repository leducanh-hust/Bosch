ARM GAS  C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"UDS.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/UDS.c"
  20              		.section	.text.getSID,"ax",%progbits
  21              		.align	1
  22              		.global	getSID
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	getSID:
  28              	.LVL0:
  29              	.LFB139:
   1:Core/Src/UDS.c **** #include "UDS.h"
   2:Core/Src/UDS.c **** 
   3:Core/Src/UDS.c **** extern void HAL_CAN_RxFifo0MsgPendingCallback(CAN_HandleTypeDef *hcan);
   4:Core/Src/UDS.c **** 
   5:Core/Src/UDS.c **** void CAN1_SendRequest()
   6:Core/Src/UDS.c **** {
   7:Core/Src/UDS.c ****     // Get Data from UART, prepare CAN Frame
   8:Core/Src/UDS.c ****     if (REQ_BUFFER[0] != 0)
   9:Core/Src/UDS.c ****     {
  10:Core/Src/UDS.c ****         HAL_Delay(50);
  11:Core/Src/UDS.c ****         USART3_SendString((uint8_t *)"\n");
  12:Core/Src/UDS.c ****         CAN1_DATA_TX[0] = NumBytesReq;
  13:Core/Src/UDS.c ****         for (int i = 1; i < 8; ++i)
  14:Core/Src/UDS.c ****         {
  15:Core/Src/UDS.c ****             CAN1_DATA_TX[i] = REQ_BUFFER[i - 1];
  16:Core/Src/UDS.c ****             FormatCANFrame(CAN1_DATA_TX);
  17:Core/Src/UDS.c ****         }
  18:Core/Src/UDS.c ****     }
  19:Core/Src/UDS.c **** 
  20:Core/Src/UDS.c ****     HAL_CAN_AddTxMessage(&hcan1, &CAN1_pHeader, CAN1_DATA_TX, &CAN1_pTxMailbox);
  21:Core/Src/UDS.c ****     PrintCANLog(0x712, CAN1_DATA_TX);
  22:Core/Src/UDS.c ****     //memset(REQ_BUFFER, 0x00, 4096);
  23:Core/Src/UDS.c ****     NumBytesReq = 0;
  24:Core/Src/UDS.c **** }
  25:Core/Src/UDS.c **** 
  26:Core/Src/UDS.c **** void SID_22_Practice()
  27:Core/Src/UDS.c **** {
  28:Core/Src/UDS.c ****     bool eligibleFormat = 0;
  29:Core/Src/UDS.c ****     eligibleFormat = checkFormat(CAN1_DATA_TX);
ARM GAS  C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s 			page 2


  30:Core/Src/UDS.c ****     if (eligibleFormat)
  31:Core/Src/UDS.c ****     {
  32:Core/Src/UDS.c ****         if (getDID(CAN1_DATA_TX) == 0x0123)
  33:Core/Src/UDS.c ****         {
  34:Core/Src/UDS.c ****             CAN2_DATA_TX[0] = 0x05;
  35:Core/Src/UDS.c ****             CAN2_DATA_TX[1] = CAN1_DATA_RX[1] + 0x40;
  36:Core/Src/UDS.c ****             CAN2_DATA_TX[2] = 0x01;
  37:Core/Src/UDS.c ****             CAN2_DATA_TX[3] = 0x23;
  38:Core/Src/UDS.c ****             CAN2_DATA_TX[4] = 0x00;
  39:Core/Src/UDS.c ****             CAN2_DATA_TX[5] = 0x78;
  40:Core/Src/UDS.c ****             FormatCANFrame(CAN2_DATA_TX);
  41:Core/Src/UDS.c ****             HAL_CAN_AddTxMessage(&hcan2, &CAN2_pHeader, CAN2_DATA_TX, &CAN2_pTxMailbox);
  42:Core/Src/UDS.c ****             PrintCANLog(0x7A2, CAN2_DATA_TX);
  43:Core/Src/UDS.c ****         }
  44:Core/Src/UDS.c ****     }
  45:Core/Src/UDS.c **** }
  46:Core/Src/UDS.c **** 
  47:Core/Src/UDS.c **** uint8_t getSID(uint8_t data[])
  48:Core/Src/UDS.c **** {
  30              		.loc 1 48 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  49:Core/Src/UDS.c ****     return data[1];
  35              		.loc 1 49 5 view .LVU1
  50:Core/Src/UDS.c **** }
  36              		.loc 1 50 1 is_stmt 0 view .LVU2
  37 0000 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
  38              	.LVL1:
  39              		.loc 1 50 1 view .LVU3
  40 0002 7047     		bx	lr
  41              		.cfi_endproc
  42              	.LFE139:
  44              		.section	.text.getDID,"ax",%progbits
  45              		.align	1
  46              		.global	getDID
  47              		.syntax unified
  48              		.thumb
  49              		.thumb_func
  51              	getDID:
  52              	.LVL2:
  53              	.LFB140:
  51:Core/Src/UDS.c **** 
  52:Core/Src/UDS.c **** uint16_t getDID(uint8_t data[])
  53:Core/Src/UDS.c **** {
  54              		.loc 1 53 1 is_stmt 1 view -0
  55              		.cfi_startproc
  56              		@ args = 0, pretend = 0, frame = 0
  57              		@ frame_needed = 0, uses_anonymous_args = 0
  58              		@ link register save eliminated.
  54:Core/Src/UDS.c ****     uint16_t tmp = 0x0000;
  59              		.loc 1 54 5 view .LVU5
  55:Core/Src/UDS.c ****     tmp = data[2];
  60              		.loc 1 55 5 view .LVU6
  61              		.loc 1 55 15 is_stmt 0 view .LVU7
  62 0000 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
ARM GAS  C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s 			page 3


  63              	.LVL3:
  56:Core/Src/UDS.c ****     tmp <<= 8;
  64              		.loc 1 56 5 is_stmt 1 view .LVU8
  57:Core/Src/UDS.c ****     tmp += data[3];
  65              		.loc 1 57 5 view .LVU9
  66              		.loc 1 57 16 is_stmt 0 view .LVU10
  67 0002 C078     		ldrb	r0, [r0, #3]	@ zero_extendqisi2
  68              	.LVL4:
  69              		.loc 1 57 9 view .LVU11
  70 0004 00EB0320 		add	r0, r0, r3, lsl #8
  71              	.LVL5:
  58:Core/Src/UDS.c ****     return tmp;
  72              		.loc 1 58 5 is_stmt 1 view .LVU12
  59:Core/Src/UDS.c **** }
  73              		.loc 1 59 1 is_stmt 0 view .LVU13
  74 0008 80B2     		uxth	r0, r0
  75              		.loc 1 59 1 view .LVU14
  76 000a 7047     		bx	lr
  77              		.cfi_endproc
  78              	.LFE140:
  80              		.section	.text.FormatCANFrame,"ax",%progbits
  81              		.align	1
  82              		.global	FormatCANFrame
  83              		.syntax unified
  84              		.thumb
  85              		.thumb_func
  87              	FormatCANFrame:
  88              	.LVL6:
  89              	.LFB141:
  60:Core/Src/UDS.c **** 
  61:Core/Src/UDS.c **** void FormatCANFrame(uint8_t data[])
  62:Core/Src/UDS.c **** {
  90              		.loc 1 62 1 is_stmt 1 view -0
  91              		.cfi_startproc
  92              		@ args = 0, pretend = 0, frame = 0
  93              		@ frame_needed = 0, uses_anonymous_args = 0
  94              		@ link register save eliminated.
  63:Core/Src/UDS.c ****     uint8_t loopIndx = 0;
  95              		.loc 1 63 5 view .LVU16
  64:Core/Src/UDS.c ****     for (loopIndx = data[0]; loopIndx < 8; loopIndx++)
  96              		.loc 1 64 5 view .LVU17
  97              		.loc 1 64 19 is_stmt 0 view .LVU18
  98 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
  99              	.LVL7:
 100              		.loc 1 64 5 view .LVU19
 101 0002 01E0     		b	.L4
 102              	.L5:
 103              		.loc 1 64 52 is_stmt 1 discriminator 2 view .LVU20
 104 0004 0133     		adds	r3, r3, #1
 105              	.LVL8:
 106              		.loc 1 64 52 is_stmt 0 discriminator 2 view .LVU21
 107 0006 DBB2     		uxtb	r3, r3
 108              	.LVL9:
 109              	.L4:
 110              		.loc 1 64 39 is_stmt 1 discriminator 1 view .LVU22
 111 0008 072B     		cmp	r3, #7
 112 000a 05D8     		bhi	.L7
ARM GAS  C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s 			page 4


  65:Core/Src/UDS.c ****     {
  66:Core/Src/UDS.c ****         if (data[loopIndx] == 0x00)
 113              		.loc 1 66 9 view .LVU23
 114              		.loc 1 66 17 is_stmt 0 view .LVU24
 115 000c C25C     		ldrb	r2, [r0, r3]	@ zero_extendqisi2
 116              		.loc 1 66 12 view .LVU25
 117 000e 002A     		cmp	r2, #0
 118 0010 F8D1     		bne	.L5
  67:Core/Src/UDS.c ****         {
  68:Core/Src/UDS.c ****             data[loopIndx] = 0x55;
 119              		.loc 1 68 13 is_stmt 1 view .LVU26
 120              		.loc 1 68 28 is_stmt 0 view .LVU27
 121 0012 5522     		movs	r2, #85
 122 0014 C254     		strb	r2, [r0, r3]
 123 0016 F5E7     		b	.L5
 124              	.L7:
  69:Core/Src/UDS.c ****         }
  70:Core/Src/UDS.c ****     }
  71:Core/Src/UDS.c **** }
 125              		.loc 1 71 1 view .LVU28
 126 0018 7047     		bx	lr
 127              		.cfi_endproc
 128              	.LFE141:
 130              		.section	.rodata.CAN1_SendRequest.str1.4,"aMS",%progbits,1
 131              		.align	2
 132              	.LC0:
 133 0000 0A00     		.ascii	"\012\000"
 134              		.section	.text.CAN1_SendRequest,"ax",%progbits
 135              		.align	1
 136              		.global	CAN1_SendRequest
 137              		.syntax unified
 138              		.thumb
 139              		.thumb_func
 141              	CAN1_SendRequest:
 142              	.LFB137:
   6:Core/Src/UDS.c ****     // Get Data from UART, prepare CAN Frame
 143              		.loc 1 6 1 is_stmt 1 view -0
 144              		.cfi_startproc
 145              		@ args = 0, pretend = 0, frame = 0
 146              		@ frame_needed = 0, uses_anonymous_args = 0
 147 0000 10B5     		push	{r4, lr}
 148              		.cfi_def_cfa_offset 8
 149              		.cfi_offset 4, -8
 150              		.cfi_offset 14, -4
   8:Core/Src/UDS.c ****     {
 151              		.loc 1 8 5 view .LVU30
   8:Core/Src/UDS.c ****     {
 152              		.loc 1 8 19 is_stmt 0 view .LVU31
 153 0002 154B     		ldr	r3, .L14
 154 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
   8:Core/Src/UDS.c ****     {
 155              		.loc 1 8 8 view .LVU32
 156 0006 7BB9     		cbnz	r3, .L13
 157              	.L9:
  20:Core/Src/UDS.c ****     PrintCANLog(0x712, CAN1_DATA_TX);
 158              		.loc 1 20 5 is_stmt 1 view .LVU33
 159 0008 144C     		ldr	r4, .L14+4
ARM GAS  C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s 			page 5


 160 000a 154B     		ldr	r3, .L14+8
 161 000c 2246     		mov	r2, r4
 162 000e 1549     		ldr	r1, .L14+12
 163 0010 1548     		ldr	r0, .L14+16
 164 0012 FFF7FEFF 		bl	HAL_CAN_AddTxMessage
 165              	.LVL10:
  21:Core/Src/UDS.c ****     //memset(REQ_BUFFER, 0x00, 4096);
 166              		.loc 1 21 5 view .LVU34
 167 0016 2146     		mov	r1, r4
 168 0018 40F21270 		movw	r0, #1810
 169 001c FFF7FEFF 		bl	PrintCANLog
 170              	.LVL11:
  23:Core/Src/UDS.c **** }
 171              		.loc 1 23 5 view .LVU35
  23:Core/Src/UDS.c **** }
 172              		.loc 1 23 17 is_stmt 0 view .LVU36
 173 0020 124B     		ldr	r3, .L14+20
 174 0022 0022     		movs	r2, #0
 175 0024 1A80     		strh	r2, [r3]	@ movhi
  24:Core/Src/UDS.c **** 
 176              		.loc 1 24 1 view .LVU37
 177 0026 10BD     		pop	{r4, pc}
 178              	.L13:
  10:Core/Src/UDS.c ****         USART3_SendString((uint8_t *)"\n");
 179              		.loc 1 10 9 is_stmt 1 view .LVU38
 180 0028 3220     		movs	r0, #50
 181 002a FFF7FEFF 		bl	HAL_Delay
 182              	.LVL12:
  11:Core/Src/UDS.c ****         CAN1_DATA_TX[0] = NumBytesReq;
 183              		.loc 1 11 9 view .LVU39
 184 002e 1048     		ldr	r0, .L14+24
 185 0030 FFF7FEFF 		bl	USART3_SendString
 186              	.LVL13:
  12:Core/Src/UDS.c ****         for (int i = 1; i < 8; ++i)
 187              		.loc 1 12 9 view .LVU40
  12:Core/Src/UDS.c ****         for (int i = 1; i < 8; ++i)
 188              		.loc 1 12 25 is_stmt 0 view .LVU41
 189 0034 0D4B     		ldr	r3, .L14+20
 190 0036 1A88     		ldrh	r2, [r3]
 191 0038 084B     		ldr	r3, .L14+4
 192 003a 1A70     		strb	r2, [r3]
  13:Core/Src/UDS.c ****         {
 193              		.loc 1 13 9 is_stmt 1 view .LVU42
 194              	.LBB2:
  13:Core/Src/UDS.c ****         {
 195              		.loc 1 13 14 view .LVU43
 196              	.LVL14:
  13:Core/Src/UDS.c ****         {
 197              		.loc 1 13 18 is_stmt 0 view .LVU44
 198 003c 0124     		movs	r4, #1
  13:Core/Src/UDS.c ****         {
 199              		.loc 1 13 9 view .LVU45
 200 003e 07E0     		b	.L10
 201              	.LVL15:
 202              	.L11:
  15:Core/Src/UDS.c ****             FormatCANFrame(CAN1_DATA_TX);
 203              		.loc 1 15 13 is_stmt 1 view .LVU46
ARM GAS  C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s 			page 6


  15:Core/Src/UDS.c ****             FormatCANFrame(CAN1_DATA_TX);
 204              		.loc 1 15 44 is_stmt 0 view .LVU47
 205 0040 631E     		subs	r3, r4, #1
  15:Core/Src/UDS.c ****             FormatCANFrame(CAN1_DATA_TX);
 206              		.loc 1 15 41 view .LVU48
 207 0042 054A     		ldr	r2, .L14
 208 0044 D35C     		ldrb	r3, [r2, r3]	@ zero_extendqisi2
  15:Core/Src/UDS.c ****             FormatCANFrame(CAN1_DATA_TX);
 209              		.loc 1 15 29 view .LVU49
 210 0046 0548     		ldr	r0, .L14+4
 211 0048 0355     		strb	r3, [r0, r4]
  16:Core/Src/UDS.c ****         }
 212              		.loc 1 16 13 is_stmt 1 view .LVU50
 213 004a FFF7FEFF 		bl	FormatCANFrame
 214              	.LVL16:
  13:Core/Src/UDS.c ****         {
 215              		.loc 1 13 32 discriminator 3 view .LVU51
 216 004e 0134     		adds	r4, r4, #1
 217              	.LVL17:
 218              	.L10:
  13:Core/Src/UDS.c ****         {
 219              		.loc 1 13 27 discriminator 1 view .LVU52
 220 0050 072C     		cmp	r4, #7
 221 0052 F5DD     		ble	.L11
 222 0054 D8E7     		b	.L9
 223              	.L15:
 224 0056 00BF     		.align	2
 225              	.L14:
 226 0058 00000000 		.word	REQ_BUFFER
 227 005c 00000000 		.word	CAN1_DATA_TX
 228 0060 00000000 		.word	CAN1_pTxMailbox
 229 0064 00000000 		.word	CAN1_pHeader
 230 0068 00000000 		.word	hcan1
 231 006c 00000000 		.word	NumBytesReq
 232 0070 00000000 		.word	.LC0
 233              	.LBE2:
 234              		.cfi_endproc
 235              	.LFE137:
 237              		.section	.rodata.checkFormat.str1.4,"aMS",%progbits,1
 238              		.align	2
 239              	.LC1:
 240 0000 496E7661 		.ascii	"Invalid Service ID\012\000"
 240      6C696420 
 240      53657276 
 240      69636520 
 240      49440A00 
 241              		.section	.text.checkFormat,"ax",%progbits
 242              		.align	1
 243              		.global	checkFormat
 244              		.syntax unified
 245              		.thumb
 246              		.thumb_func
 248              	checkFormat:
 249              	.LVL18:
 250              	.LFB142:
  72:Core/Src/UDS.c **** 
  73:Core/Src/UDS.c **** //checked
ARM GAS  C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s 			page 7


  74:Core/Src/UDS.c **** bool checkFormat(uint8_t data[])
  75:Core/Src/UDS.c **** {
 251              		.loc 1 75 1 view -0
 252              		.cfi_startproc
 253              		@ args = 0, pretend = 0, frame = 0
 254              		@ frame_needed = 0, uses_anonymous_args = 0
 255              		.loc 1 75 1 is_stmt 0 view .LVU54
 256 0000 08B5     		push	{r3, lr}
 257              		.cfi_def_cfa_offset 8
 258              		.cfi_offset 3, -8
 259              		.cfi_offset 14, -4
  76:Core/Src/UDS.c ****     switch (data[1])
 260              		.loc 1 76 5 is_stmt 1 view .LVU55
 261              		.loc 1 76 17 is_stmt 0 view .LVU56
 262 0002 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 263              		.loc 1 76 5 view .LVU57
 264 0004 272B     		cmp	r3, #39
 265 0006 08D0     		beq	.L17
 266 0008 2E2B     		cmp	r3, #46
 267 000a 0DD0     		beq	.L18
 268 000c 222B     		cmp	r3, #34
 269 000e 10D1     		bne	.L19
  77:Core/Src/UDS.c ****     {
  78:Core/Src/UDS.c ****     case 0x22:
  79:Core/Src/UDS.c ****         if (data[0] == 0x03)
 270              		.loc 1 79 9 is_stmt 1 view .LVU58
 271              		.loc 1 79 17 is_stmt 0 view .LVU59
 272 0010 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 273              		.loc 1 79 12 view .LVU60
 274 0012 032B     		cmp	r3, #3
 275 0014 12D0     		beq	.L21
  80:Core/Src/UDS.c ****             return true;
  81:Core/Src/UDS.c ****         return false;
 276              		.loc 1 81 16 view .LVU61
 277 0016 0020     		movs	r0, #0
 278              	.LVL19:
 279              		.loc 1 81 16 view .LVU62
 280 0018 0FE0     		b	.L20
 281              	.LVL20:
 282              	.L17:
  82:Core/Src/UDS.c ****         break;
 283              		.loc 1 82 9 is_stmt 1 view .LVU63
  83:Core/Src/UDS.c ****     case 0x27:
  84:Core/Src/UDS.c ****         if (data[0] == 0x02 || data[0] == 0x06)
 284              		.loc 1 84 9 view .LVU64
 285              		.loc 1 84 17 is_stmt 0 view .LVU65
 286 001a 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 287              		.loc 1 84 12 view .LVU66
 288 001c 022B     		cmp	r3, #2
 289 001e 0FD0     		beq	.L22
 290              		.loc 1 84 29 discriminator 1 view .LVU67
 291 0020 062B     		cmp	r3, #6
 292 0022 0FD0     		beq	.L23
  85:Core/Src/UDS.c ****             return true;
  86:Core/Src/UDS.c ****         return false;
 293              		.loc 1 86 16 view .LVU68
 294 0024 0020     		movs	r0, #0
ARM GAS  C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s 			page 8


 295              	.LVL21:
 296              		.loc 1 86 16 view .LVU69
 297 0026 08E0     		b	.L20
 298              	.LVL22:
 299              	.L18:
  87:Core/Src/UDS.c ****         break;
 300              		.loc 1 87 9 is_stmt 1 view .LVU70
  88:Core/Src/UDS.c ****     case 0x2E:
  89:Core/Src/UDS.c ****         if (data[0] == 0x05)
 301              		.loc 1 89 9 view .LVU71
 302              		.loc 1 89 17 is_stmt 0 view .LVU72
 303 0028 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 304              		.loc 1 89 12 view .LVU73
 305 002a 052B     		cmp	r3, #5
 306 002c 0CD0     		beq	.L24
  90:Core/Src/UDS.c ****             return true;
  91:Core/Src/UDS.c ****         return false;
 307              		.loc 1 91 16 view .LVU74
 308 002e 0020     		movs	r0, #0
 309              	.LVL23:
 310              		.loc 1 91 16 view .LVU75
 311 0030 03E0     		b	.L20
 312              	.LVL24:
 313              	.L19:
  92:Core/Src/UDS.c ****     default:
  93:Core/Src/UDS.c ****         USART3_SendString((uint8_t *)"Invalid Service ID\n");
 314              		.loc 1 93 9 is_stmt 1 view .LVU76
 315 0032 0648     		ldr	r0, .L26
 316              	.LVL25:
 317              		.loc 1 93 9 is_stmt 0 view .LVU77
 318 0034 FFF7FEFF 		bl	USART3_SendString
 319              	.LVL26:
  94:Core/Src/UDS.c ****         return false;
 320              		.loc 1 94 9 is_stmt 1 view .LVU78
 321              		.loc 1 94 16 is_stmt 0 view .LVU79
 322 0038 0020     		movs	r0, #0
 323              	.L20:
  95:Core/Src/UDS.c ****         break;
 324              		.loc 1 95 9 is_stmt 1 view .LVU80
  96:Core/Src/UDS.c ****     }
  97:Core/Src/UDS.c **** }
 325              		.loc 1 97 1 is_stmt 0 view .LVU81
 326 003a 08BD     		pop	{r3, pc}
 327              	.LVL27:
 328              	.L21:
  80:Core/Src/UDS.c ****         return false;
 329              		.loc 1 80 20 view .LVU82
 330 003c 0120     		movs	r0, #1
 331              	.LVL28:
  80:Core/Src/UDS.c ****         return false;
 332              		.loc 1 80 20 view .LVU83
 333 003e FCE7     		b	.L20
 334              	.LVL29:
 335              	.L22:
  85:Core/Src/UDS.c ****         return false;
 336              		.loc 1 85 20 view .LVU84
 337 0040 0120     		movs	r0, #1
ARM GAS  C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s 			page 9


 338              	.LVL30:
  85:Core/Src/UDS.c ****         return false;
 339              		.loc 1 85 20 view .LVU85
 340 0042 FAE7     		b	.L20
 341              	.LVL31:
 342              	.L23:
  85:Core/Src/UDS.c ****         return false;
 343              		.loc 1 85 20 view .LVU86
 344 0044 0120     		movs	r0, #1
 345              	.LVL32:
  85:Core/Src/UDS.c ****         return false;
 346              		.loc 1 85 20 view .LVU87
 347 0046 F8E7     		b	.L20
 348              	.LVL33:
 349              	.L24:
  90:Core/Src/UDS.c ****         return false;
 350              		.loc 1 90 20 view .LVU88
 351 0048 0120     		movs	r0, #1
 352              	.LVL34:
  90:Core/Src/UDS.c ****         return false;
 353              		.loc 1 90 20 view .LVU89
 354 004a F6E7     		b	.L20
 355              	.L27:
 356              		.align	2
 357              	.L26:
 358 004c 00000000 		.word	.LC1
 359              		.cfi_endproc
 360              	.LFE142:
 362              		.section	.text.SID_22_Practice,"ax",%progbits
 363              		.align	1
 364              		.global	SID_22_Practice
 365              		.syntax unified
 366              		.thumb
 367              		.thumb_func
 369              	SID_22_Practice:
 370              	.LFB138:
  27:Core/Src/UDS.c ****     bool eligibleFormat = 0;
 371              		.loc 1 27 1 is_stmt 1 view -0
 372              		.cfi_startproc
 373              		@ args = 0, pretend = 0, frame = 0
 374              		@ frame_needed = 0, uses_anonymous_args = 0
 375 0000 10B5     		push	{r4, lr}
 376              		.cfi_def_cfa_offset 8
 377              		.cfi_offset 4, -8
 378              		.cfi_offset 14, -4
  28:Core/Src/UDS.c ****     eligibleFormat = checkFormat(CAN1_DATA_TX);
 379              		.loc 1 28 5 view .LVU91
 380              	.LVL35:
  29:Core/Src/UDS.c ****     if (eligibleFormat)
 381              		.loc 1 29 5 view .LVU92
  29:Core/Src/UDS.c ****     if (eligibleFormat)
 382              		.loc 1 29 22 is_stmt 0 view .LVU93
 383 0002 1548     		ldr	r0, .L32
 384 0004 FFF7FEFF 		bl	checkFormat
 385              	.LVL36:
  30:Core/Src/UDS.c ****     {
 386              		.loc 1 30 5 is_stmt 1 view .LVU94
ARM GAS  C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s 			page 10


  30:Core/Src/UDS.c ****     {
 387              		.loc 1 30 8 is_stmt 0 view .LVU95
 388 0008 30B1     		cbz	r0, .L28
  32:Core/Src/UDS.c ****         {
 389              		.loc 1 32 9 is_stmt 1 view .LVU96
  32:Core/Src/UDS.c ****         {
 390              		.loc 1 32 13 is_stmt 0 view .LVU97
 391 000a 1348     		ldr	r0, .L32
 392              	.LVL37:
  32:Core/Src/UDS.c ****         {
 393              		.loc 1 32 13 view .LVU98
 394 000c FFF7FEFF 		bl	getDID
 395              	.LVL38:
  32:Core/Src/UDS.c ****         {
 396              		.loc 1 32 12 discriminator 1 view .LVU99
 397 0010 40F22313 		movw	r3, #291
 398 0014 9842     		cmp	r0, r3
 399 0016 00D0     		beq	.L31
 400              	.L28:
  45:Core/Src/UDS.c **** 
 401              		.loc 1 45 1 view .LVU100
 402 0018 10BD     		pop	{r4, pc}
 403              	.L31:
  34:Core/Src/UDS.c ****             CAN2_DATA_TX[1] = CAN1_DATA_RX[1] + 0x40;
 404              		.loc 1 34 13 is_stmt 1 view .LVU101
  34:Core/Src/UDS.c ****             CAN2_DATA_TX[1] = CAN1_DATA_RX[1] + 0x40;
 405              		.loc 1 34 29 is_stmt 0 view .LVU102
 406 001a 104C     		ldr	r4, .L32+4
 407 001c 0523     		movs	r3, #5
 408 001e 2370     		strb	r3, [r4]
  35:Core/Src/UDS.c ****             CAN2_DATA_TX[2] = 0x01;
 409              		.loc 1 35 13 is_stmt 1 view .LVU103
  35:Core/Src/UDS.c ****             CAN2_DATA_TX[2] = 0x01;
 410              		.loc 1 35 43 is_stmt 0 view .LVU104
 411 0020 0F4B     		ldr	r3, .L32+8
 412 0022 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
  35:Core/Src/UDS.c ****             CAN2_DATA_TX[2] = 0x01;
 413              		.loc 1 35 47 view .LVU105
 414 0024 4033     		adds	r3, r3, #64
  35:Core/Src/UDS.c ****             CAN2_DATA_TX[2] = 0x01;
 415              		.loc 1 35 29 view .LVU106
 416 0026 6370     		strb	r3, [r4, #1]
  36:Core/Src/UDS.c ****             CAN2_DATA_TX[3] = 0x23;
 417              		.loc 1 36 13 is_stmt 1 view .LVU107
  36:Core/Src/UDS.c ****             CAN2_DATA_TX[3] = 0x23;
 418              		.loc 1 36 29 is_stmt 0 view .LVU108
 419 0028 0123     		movs	r3, #1
 420 002a A370     		strb	r3, [r4, #2]
  37:Core/Src/UDS.c ****             CAN2_DATA_TX[4] = 0x00;
 421              		.loc 1 37 13 is_stmt 1 view .LVU109
  37:Core/Src/UDS.c ****             CAN2_DATA_TX[4] = 0x00;
 422              		.loc 1 37 29 is_stmt 0 view .LVU110
 423 002c 2323     		movs	r3, #35
 424 002e E370     		strb	r3, [r4, #3]
  38:Core/Src/UDS.c ****             CAN2_DATA_TX[5] = 0x78;
 425              		.loc 1 38 13 is_stmt 1 view .LVU111
  38:Core/Src/UDS.c ****             CAN2_DATA_TX[5] = 0x78;
ARM GAS  C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s 			page 11


 426              		.loc 1 38 29 is_stmt 0 view .LVU112
 427 0030 0023     		movs	r3, #0
 428 0032 2371     		strb	r3, [r4, #4]
  39:Core/Src/UDS.c ****             FormatCANFrame(CAN2_DATA_TX);
 429              		.loc 1 39 13 is_stmt 1 view .LVU113
  39:Core/Src/UDS.c ****             FormatCANFrame(CAN2_DATA_TX);
 430              		.loc 1 39 29 is_stmt 0 view .LVU114
 431 0034 7823     		movs	r3, #120
 432 0036 6371     		strb	r3, [r4, #5]
  40:Core/Src/UDS.c ****             HAL_CAN_AddTxMessage(&hcan2, &CAN2_pHeader, CAN2_DATA_TX, &CAN2_pTxMailbox);
 433              		.loc 1 40 13 is_stmt 1 view .LVU115
 434 0038 2046     		mov	r0, r4
 435 003a FFF7FEFF 		bl	FormatCANFrame
 436              	.LVL39:
  41:Core/Src/UDS.c ****             PrintCANLog(0x7A2, CAN2_DATA_TX);
 437              		.loc 1 41 13 view .LVU116
 438 003e 094B     		ldr	r3, .L32+12
 439 0040 2246     		mov	r2, r4
 440 0042 0949     		ldr	r1, .L32+16
 441 0044 0948     		ldr	r0, .L32+20
 442 0046 FFF7FEFF 		bl	HAL_CAN_AddTxMessage
 443              	.LVL40:
  42:Core/Src/UDS.c ****         }
 444              		.loc 1 42 13 view .LVU117
 445 004a 2146     		mov	r1, r4
 446 004c 40F2A270 		movw	r0, #1954
 447 0050 FFF7FEFF 		bl	PrintCANLog
 448              	.LVL41:
  45:Core/Src/UDS.c **** 
 449              		.loc 1 45 1 is_stmt 0 view .LVU118
 450 0054 E0E7     		b	.L28
 451              	.L33:
 452 0056 00BF     		.align	2
 453              	.L32:
 454 0058 00000000 		.word	CAN1_DATA_TX
 455 005c 00000000 		.word	CAN2_DATA_TX
 456 0060 00000000 		.word	CAN1_DATA_RX
 457 0064 00000000 		.word	CAN2_pTxMailbox
 458 0068 00000000 		.word	CAN2_pHeader
 459 006c 00000000 		.word	hcan2
 460              		.cfi_endproc
 461              	.LFE138:
 463              		.text
 464              	.Letext0:
 465              		.file 2 "C:/Users/PC/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-tools
 466              		.file 3 "C:/Users/PC/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-tools
 467              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h"
 468              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 469              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 470              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_can.h"
 471              		.file 8 "Core/Inc/UDS.h"
 472              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s 			page 12


DEFINED SYMBOLS
                            *ABS*:00000000 UDS.c
C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s:21     .text.getSID:00000000 $t
C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s:27     .text.getSID:00000000 getSID
C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s:45     .text.getDID:00000000 $t
C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s:51     .text.getDID:00000000 getDID
C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s:81     .text.FormatCANFrame:00000000 $t
C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s:87     .text.FormatCANFrame:00000000 FormatCANFrame
C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s:131    .rodata.CAN1_SendRequest.str1.4:00000000 $d
C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s:135    .text.CAN1_SendRequest:00000000 $t
C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s:141    .text.CAN1_SendRequest:00000000 CAN1_SendRequest
C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s:226    .text.CAN1_SendRequest:00000058 $d
C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s:238    .rodata.checkFormat.str1.4:00000000 $d
C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s:242    .text.checkFormat:00000000 $t
C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s:248    .text.checkFormat:00000000 checkFormat
C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s:358    .text.checkFormat:0000004c $d
C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s:363    .text.SID_22_Practice:00000000 $t
C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s:369    .text.SID_22_Practice:00000000 SID_22_Practice
C:\Users\PC\AppData\Local\Temp\ccKK6Drk.s:454    .text.SID_22_Practice:00000058 $d

UNDEFINED SYMBOLS
HAL_CAN_AddTxMessage
PrintCANLog
HAL_Delay
USART3_SendString
REQ_BUFFER
CAN1_DATA_TX
CAN1_pTxMailbox
CAN1_pHeader
hcan1
NumBytesReq
CAN2_DATA_TX
CAN1_DATA_RX
CAN2_pTxMailbox
CAN2_pHeader
hcan2
